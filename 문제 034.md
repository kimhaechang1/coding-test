## 수 묶기

문제

길이가 N인 수열이 주어졌을 때, 그 수열의 합을 구하려고 한다. 

하지만, 그냥 그 수열의 합을 모두 더해서 구하는 것이 아니라, 

수열의 두 수를 묶으려고 한다. 

어떤 수를 묶으려고 할 때, 위치에 상관없이 묶을 수 있다. 

하지만, 같은 위치에 있는 수(자기 자신)를 묶는 것은 불가능하다. 

그리고 어떤 수를 묶게 되면, 수열의 합을 구할 때 묶은 수는 서로 곱한 후에 더한다.

예를 들면, 어떤 수열이 {0, 1, 2, 4, 3, 5}일 때, 

그냥 이 수열의 합을 구하면 0+1+2+4+3+5 = 15이다. 

하지만, 2와 3을 묶고, 4와 5를 묶게 되면, 

0+1+(2*3)+(4*5) = 27이 되어 최대가 된다.

수열의 모든 수는 단 한번만 묶거나, 아니면 묶지 않아야한다.

수열이 주어졌을 때, 수열의 각 수를 적절히 묶었을 때, 

그 합이 최대가 되게 하는 프로그램을 작성하시오.

입력
첫째 줄에 수열의 크기 N이 주어진다. 

N은 50보다 작은 자연수이다. 

둘째 줄부터 N개의 줄에 수열의 각 수가 주어진다. 

수열의 수는 -1,000보다 크거나 같고, 1,000보다 작거나 같은 정수이다.

출력

수를 합이 최대가 나오게 묶었을 때 합을 출력한다. 

정답은 항상 231보다 작다.

### 문제 분석하기

수가 여러개 있을 때 

수의 범위가 -1000 ~ 1000 이므로 음수도 존재할 수 있다.

양수에 대한 범위와 음수에 대한 범위를 나누고

양수는 내림차순으로 2개씩 더한값과 곱한값을 비교하여 더 큰 값을 누적하고

음수는 오름차순으로 2개씩 묶어서 더한값과 곱한값을 비교하여 더 큰 값을 누적한다.

이러면 양수측과 음수측에서 최대 숫자가 나오게 된다.

그리고 중요한것은 0의 개수를 세어야 한다는 점이다.

0이 있다면 만약에 음수부 연산 최종결과가 음수일 경우 0을 하나 사용하여

음수부를 지워버리면 최대숫자를 나오게 할 수 있다.

그리고 음수부의 숫자가 단 하나일 경우 양수가 될 수 없으므로

0의 개수가 1이상이라면 하나를 사용하여 음수부 연산 최종결과를 0으로 만든다.

### 손으로 풀어보기

N = 4 이고 {-1, 2, 1, 3} 의 경우

음수부 : {-1}

0의 개수 : 0

양수부 : {1, 2, 3} 으로

음수부의 숫자개수가 하나이지만 0의 개수가 없으므로 

음수부 최종연산결과는 -1

양수부의 숫자는 2*3 > 2+3 이므로 

6이 되고 마지막 1을 더하여 최종연산은 7이 된다.

따라서 음수부 최종연산 + 양수부 최종연산을 통해 최대값은 6이 된다.

### 슈도코드 작성

```java
main(){
    PriorityQueue<Integer> plus : 양수부 (내림차순)
    PriorityQueue<Integer> mn : 음수부 (오름차순)

    int n : 숫자의 개수
    int c = 0 : 0의 개수
    int sum1 : 음수부 누적용
    int sum2 : 양수부 누적용

    for(int i : 0~N){
        if(양수) plus.add()
        else if(음수) mn.add()
        else c++;
    }

    while(plus큐에 숫자가 2개 이상일동안만){
        숫자 두개 뽑기
        숫자 두개 합 과 곱을 비교하여 더 큰값 sum2에 누적
    }

    if(plus큐에 남은 숫자 있다면){
        sum2에 누적
    }

    while(mn큐에 숫자가 2개 이상일동안만){
        숫자 두개 뽑기
        숫자 두개 합 과 곱을 비교하여 더 큰값 sum1에 누적
    }

    if(mn큐에 남은 숫자 있다면){
        if(근데 그 숫자가 음수면서 c>0이면){
            0하나 사용하고 해당숫자는 0취급(0을 곱했기때문에)
        }
        sum1에 누적
    }

    if(최종 sum1이 아직 음수면서 c>0이면){
        음수부 최종연산을 0으로 취급(0을 곱하여서)
    }
    sum1+sum2 출력
}
```

