## 배열에서 k번째 수 찾기

문제

세준이는 크기가 N×N인 배열 A를 만들었다. 

배열에 들어있는 수 A[i][j] = i×j 이다. 

이 수를 일차원 배열 B에 넣으면 B의 크기는 N×N이 된다. 

B를 오름차순 정렬했을 때, B[k]를 구해보자.

배열 A와 B의 인덱스는 1부터 시작한다.

입력

첫째 줄에 배열의 크기 N이 주어진다. 

N은 10^5보다 작거나 같은 자연수이다. 

둘째 줄에 k가 주어진다. k는 min(10^9, N^2)보다 작거나 같은 자연수이다.

출력

B[k]를 출력한다.

### 문제 분석하기 

예를들어 N = 3으로 주어진다면

2차원배열 A의 구성은

0 0 0 0
0 1 2 3
0 2 4 6
0 3 6 9

이런 식이고

이걸 B 배열로 옮긴 후 오름차순 정렬 한다 하면

{ 1 2 2 3 3 4 6 6 9 } 이며

여기서 B[7] 이면 정답 6이 된다.

이러한 수를 찾으면 된다.

B[k] = x에서 

k번째의 해당하는 원소는 중복된 원소로 존재 할 수 있다.

또한 k와 x의 관계는 k보다 작거나 같은 원소의 개수가 6개 있다는 뜻을 의미한다.

A배열의 특징은 각 층별로 구구단 1~N단을 뜻하고

각 단 별로 x에서 나눈 몫이 A배열에서 각 층별로 x보다 작거나 같은 원소의 개수를 뜻하게 된다.

단 여기서는 층별로 최대 가로길이가 정해져있기 때문에 

해당 가로길이보다 더 커지게 된다면 최대 가로길이인 N개로 수량을 정한다.

x의 범위는 1~N^2이 되지만

k의 값에 범위 안에서 x가 형성될 수 있으므로

x의 범위는 k이하의 자연수가 된다.

따라서 k보다 작거나 같은 원소의 개수가 x의 범위인데 

자연수 x의 범위(1이상, k이하인)를 이용하여 k의 값을 구한다

이때 중요한 점은 B[k]를 만족하는 x의 값이 x이하에서

여러개 존재 할 수 있기 때문에

그 수를 찾으려고 하면 lower bound 이분탐색으로 풀 수 있다.

x의 범위를 기준으로 mid값을 찾고

해당 mid값에 따라 각 B배열 층 별로 mid값보다 작거나 같은 원소의 개수의 합을 구하고

그 합이 찾아야 하는 수 보다 작다면(즉, 타겟 넘버가 더 크다면)

시작 범위를 조정하고

그 합이 찾아야 하는 수 보다 크거나 같다면 (타겟 넘버보다 더 작다면)

더 작은 x범위에서 B[k]를 찾아야 하므로 끝 범위를 조정한다.

### 손으로 풀어보기

lower bound 를 진행 했다고 가정한다.

N = 3이고 k가 7로 주어졌을때

x의 범위는 1~7이고, 

mid값은 (1+7)/2 = 4가 된다.

4보다 작거나 같은 원소의 개수를 단 별로 구하면

4/1 = 4 이지만 최대 범위가 3이므로 3

4/2 = 2 

4/3 = 1 로

6이 된다.

6은 k가 더 크므로

더 큰 영역에서 재탐색 한다. (l = mid+1)

x의 범위는 5~7 이고

mid값은 (1+4)/2 = 6이 된다.

6보다 작거나 같은 원소의 개수를 단 별로 구하면

6/1 = 6 이지만 최대 범위가 3 이므로 3

6/2 = 3

6/3 = 2 로

8로서 k가 더 작으므로

더 작은 영역에서 재 탐색한다. (r = mid)

x의 범위는 5~6 이고

mid 값은 (5+6)/2 = 5이고

5/1 = 5이지만 최대 범위가 3이므로 3

5/2 = 2

5/3 = 1 로서

6은 k가 더 크므로

더 큰 영역에서 재 탐색한다. (l = mid+1)

이때 l = 6 이고 r= 6 즉, l=r이므로

이진탐색 반복문을 탈출하여 6이 정답이 된다.