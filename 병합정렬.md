## 병합정렬

병합정렬은 분할정복 방식을 사용해 데이터를 분할하고 

분할한 집합을 정렬하며 합치는 알고리즘

병합 정렬의 시간복잡도 평균값은 O(nlogn)입니다.

### 병합정렬의 수행방식

예를들어 데이터의 개수는 8개이고, [42, 32, 24, 60, 15, 5, 90, 45] 로 주어졌을 때

병합정렬을 처음 수행하면

가장 작은 데이터의 집합 까지 나뉘게 된다.

이는 즉, [42], [32], [24], [60], [15], [5], [90], [45]로 나뉘게 된다.

여기서 2개씩 그룹을 합치며 오름차순 정렬을 한다.

1회 합치기 결과 : [32,42], [24,60], [5,15], [45,90]

2회 합치기 결과 : [24, 32, 42, 60], [5, 15, 45, 90]

3회 합치기 결과 : [5, 15, 24, 32, 42, 45, 60, 90] <- 오름차순 정렬 완료

특히나 이러한 병합정렬에서도 2개의 그룹을 합치는 원리는 꼭 숙지해야 한다.



### 2개의 그룹을 병합하는 과정

투 포인터 개념을 사용하여 왼쪽, 오른쪽 그룹을 병합한다.

각각의 포인터는 각 데이터의 시작지점 인덱스를 가리키게 된다.

index1 -> 24, index2 -> 5

그리고 임시배열(정렬된 배열)을 크기는 정렬 할 크기에 맞게 정해준다.

각각의 인덱스가 각각의 끝에 도달 할 때 까지(index1 <= 중간값 && index2 <= 끝값)

서로의 인덱스가 가리키는 값을 비교하여

오름차순의 경우 더 작은값을 넣고

더 작은값으로 선택된 배열의 경우 포인터를 오른쪽으로 옮겨 준다.

이렇게 옮기다 보면 index1이 먼저 중간값에 도달하거나

index2가 먼저 중간값에 도달할 수도 있기 때문에

양쪽 포인터를 끝까지 밀어주면서 데이터를 임시배열에 담아주고

해당 임시배열에 있는 원소들을 원본배열로 옮겨주어야 하는데

이 때 중요 한 점은

for문 반복 할 때 파라미터로 받아온 시작값부터 끝값까지 반복하고

원본배열에는 병합 한 순서대로 값을 넣기 때문에 문제가 없지만

임시배열에서는 정렬된 원소의 크기만큼 잘라진 배열이기 때문에

0번부터 넣어주어야 한다.

따라서 반복문 '변수-시작값'을 인덱스로 가지게 된다.


### 병합정렬의 기본형

```java

public void mergeSort(int []arr, int start, int end){
    if(end-start < 2){
        return;
    }
    int mid = (start+end)/2;
    mergeSort(arr, 0, mid);
    mergeSort(arr, mid, end);
    merge(arr, start, mid, end);
}

public void merge(int []arr, int start, int mid, int end){
    int [] temp = new int[end-start];
    int t = 0, l1 = start, l2 = mid;

    while(l1 < mid && l2 < end){
        if(arr[l1] < arr[l2]){
            temp[t++] = arr[l1++];
        }else{
            temp[t++] = arr[l2++];
        }
    }

    while(l1 < mid){
        temp[t++] = arr[l1++];
    }
    while(l2 < end){
        temp[t++] = arr[l2++];
    }

    for(int i = start; i<end;i++){
        arr[i] = temp[i-start];
    }

}
```
